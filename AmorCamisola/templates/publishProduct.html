{% extends "layout.html" %}

{% block content %}
<div class="form-container">
    <h1>Listar Produto</h1>
    <form action="." method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label>{{ form.name.label }}</label>
            <div class="input-wrapper">{{ form.name }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.description.label }}</label>
            <div class="input-wrapper">{{ form.description }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.price.label }}</label>
            <div class="input-wrapper">{{ form.price }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.image.label }}</label>
            <div class="input-wrapper">{{ form.image }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.team.label }}</label>
            <div class="input-wrapper">{{ form.team }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.category.label }}</label>
            <div class="input-wrapper">{{ form.category }}</div>
        </div>
        
        <div class="form-group">
            <label>{{ form.size.label }}</label>
            <div class="input-wrapper">
                {{ form.size }}
            </div>
        </div>
        
        <div class="form-group">
            <button type="submit" class="btn-submit">Listar Produto</button>
        </div>
    </form>
</div>
    
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        const categorySelect = document.getElementById('id_category'); 
        const sizeField = document.getElementById('id_size');
        
        const sizeOptions = {
            '1': ['XS', 'S', 'M', 'L', 'XL'], 
            '2': ['XS', 'S', 'M', 'L', 'XL'],   
            '3': ['XS', 'S', 'M', 'L', 'XL'],  
            '4': ['30', '31', '32', '33', '34', '35', '36', '37', '38', '39',
                  '40', '41', '42', '43', '44', '45', '46', '47', '48'],  
        };

        function updateSizeOptions() {
            const selectedCategory = categorySelect.value; 
            const availableSizes = sizeOptions[selectedCategory] || [];  
            
            sizeField.innerHTML = '';
            
            availableSizes.forEach(function (size) {
                const option = document.createElement('option');
                option.value = size;
                option.textContent = size;
                sizeField.appendChild(option);
            });
        }
        categorySelect.addEventListener('change', updateSizeOptions);
        updateSizeOptions(); 
    });
</script>


{% endblock %}
